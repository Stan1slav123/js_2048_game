parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"6KIz":[function(require,module,exports) {
"use strict";var r=0,e=!1,t=!1,o=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];function n(){a(),a(),r=0,e=!1,t=!1,f(),document.querySelector(".message-start").classList.add("hidden"),document.querySelector(".button.start").textContent="Restart",document.querySelector(".button.start").classList.add("restart")}function a(){for(var r=[],e=0;e<4;e++)for(var t=0;t<4;t++)0===o[e][t]&&r.push({row:e,column:t});if(0!==r.length){var n=r[Math.floor(Math.random()*r.length)];o[n.row][n.column]=Math.random()<.9?2:4}}function f(){document.querySelectorAll(".field-cell").forEach(function(r,e){var t=Math.floor(e/4),n=e%4;r.textContent=0===o[t][n]?"":o[t][n],r.className="field-cell",0!==o[t][n]&&r.classList.add("field-cell--"+o[t][n])}),document.querySelector(".game-score").textContent=r,m()?(e=!0,document.querySelector(".message-win").classList.remove("hidden")):b()&&(t=!0,document.querySelector(".message-lose").classList.remove("hidden"))}function c(r){if(!e&&!t){var o=!1;switch(r){case"ArrowUp":o=u();break;case"ArrowDown":o=l();break;case"ArrowLeft":o=i();break;case"ArrowRight":o=s()}o&&(a(),f())}}function i(){for(var r=!1,e=0;e<4;e++)for(var t=3;t>0;t--)if(0!==o[e][t])for(var n=t-1;n>=0&&n===t-1;){if(0!==o[e][n]){if(o[e][n]===o[e][t]){v(n,t,e),r=!0;break}break}o[e][n]=o[e][t],o[e][t]=0,t=n,r=!0,i(),n--}return r}function s(){for(var r=!1,e=0;e<4;e++)for(var t=0;t<3;t++)if(0!==o[e][t])for(var n=t+1;n<4&&n===t+1;){if(0!==o[e][n]){if(o[e][n]===o[e][t]){v(n,t,e),r=!0;break}break}o[e][n]=o[e][t],o[e][t]=0,t=n-1,r=!0,s(),n++}return r}function u(){for(var r=!1,e=0;e<4;e++)for(var t=1;t<4;t++)if(0!==o[t][e])for(var n=t-1;n>=0&&n===t-1;){if(0!==o[n][e]){if(o[n][e]===o[t][e]){d(n,e,t),r=!0;break}break}o[n][e]=o[t][e],o[t][e]=0,t=n,r=!0,u(),n--}return r}function l(){for(var r=!1,e=0;e<4;e++)for(var t=2;t>=0;t--)if(0!==o[t][e])for(var n=t+1;n<4&&n===t+1;){if(0!==o[n][e]){if(o[n][e]===o[t][e]){d(n,e,t),r=!0;break}break}o[n][e]=o[t][e],o[t][e]=0,t=n,r=!0,l(),n++}return r}function d(e,t,n){o[e][t]*=2,r+=o[e][t],o[n][t]=0}function v(e,t,n){o[n][e]*=2,r+=o[n][e],o[n][t]=0}function m(){for(var r=0;r<4;r++)for(var e=0;e<4;e++)if(2048===o[r][e])return!0;return!1}function b(){for(var r=0;r<4;r++)for(var e=0;e<4;e++){if(0===o[r][e])return!1;if(r<3&&o[r][e]===o[r+1][e]||e<3&&o[r][e]===o[r][e+1])return!1}return!0}function h(){for(var a=0;a<4;a++)for(var f=0;f<4;f++)o[a][f]=0;r=0,e=!1,t=!1,document.querySelector(".message-lose").classList.add("hidden"),document.querySelector(".message-win").classList.add("hidden"),n()}document.addEventListener("keydown",function(r){c(r.key)}),document.querySelector(".button.start").addEventListener("click",function(){for(var r=!1,a=0;a<4;a++)for(var f=0;f<4;f++)if(0!==o[a][f]){r=!0;break}if(!0===r)if(t||e)h();else{alert("Are you sure you want to\n      start a new game? All progress will be lost."),h()}else n()});
},{}]},{},["6KIz"], null)
//# sourceMappingURL=main.fba2e68b.js.map